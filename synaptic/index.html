<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>CJ Boyd</title>
    
    <!--<link rel="stylesheet" type="text/css" href="/global/custom.css">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <script src="https://caza.la/synaptic/scripts/homepage/synaptic.js"></script>
    <script src="/synaptic/bin_name_class.js"></script>

    <!-- Bootstrap core CSS
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    -->
    
    <!-- Custom styles for this template -->
    <link href="/global/simple-sidebar.css" rel="stylesheet">


</head>

<body>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <!-- Loaded in with $().load-->
        </div>
       
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
                <div id="buttonmenu"><a href="#menu-toggle" class="btn btn-default" id="menu-toggle"><h2>></h2></a></div>

        <div id="page-content-wrapper">
            <div class="container-fluid">
                <h1>Binary Name Classifier</h1>
                <h2>Using Synaptic.js</h2>
<!--
<div class="container">
<main>
-->
                
<div id="status">Training...</div>

<textarea class='input' id="a"></textarea>
<textarea class='input' id="b"></textarea>
<p>
  <div id="exp">
    <p>
      Test your own words here (no spaces or non a-z characters). Please try random words, names, place names, keyboard mashing etc!
    </p>
 
  <button type=button id="test_btn">Test</button>
  <p>

  </p>

 <!-- <div id="rich">  -->
<h3>How does it work?</h3>
    <p></p>
 This is a simple neural network binary classifier for text. It distinguishes between the place names of two places/languages.
     <p></p>
    <h3>Feature Extraction - Character Vectorisation</h3>
     <p></p>
<p><span style="font-size: 10pt;">I used two different techniques to vectorise the text.&nbsp; Text itself is not directly usable by a neural network, instead the text is 'vectorised' - turned into a multi-dimensional data type.</span></p>
<p><span style="font-size: 10pt;">E.g. in an alphabet with only five letters, for the word 'bed' we would create 15 (5 for the size of the alphabet x 3 letters in the word), and place a '1' in the second column to indicated the 'B'.</span></p>
<table style="height: 44px;" width="223">
<tbody>
<tr>
<td style="width: 48.8px; text-align: center;"><em>A</em></td>
<td style="width: 48.8px; text-align: center;"><em>B</em></td>
<td style="width: 49.6px; text-align: center;"><em>C</em></td>
<td style="width: 49.6px; text-align: center;"><em>D</em></td>
<td style="width: 49.6px; text-align: center;"><em>E</em></td>
</tr>
<tr>
<td style="width: 48.8px; text-align: center;">0</td>
<td style="width: 48.8px; text-align: center;">1</td>
<td style="width: 49.6px; text-align: center;">0</td>
<td style="width: 49.6px; text-align: center;">0</td>
<td style="width: 49.6px; text-align: center;">0</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">Then, we would do the same for the next letter, like so:</span></p>
<table style="height: 37px;" width="224">
<tbody>
<tr style="height: 17px;">
<td style="width: 38.4px; height: 17px; text-align: center;"><em>A</em></td>
<td style="width: 38.4px; height: 17px; text-align: center;"><em>B</em></td>
<td style="width: 38.4px; height: 17px; text-align: center;"><em>C</em></td>
<td style="width: 38.4px; height: 17px; text-align: center;"><em>D</em></td>
<td style="width: 39.2px; height: 17px; text-align: center;"><em>E</em></td>
</tr>
<tr>
<td style="width: 38.4px; text-align: center;">0</td>
<td style="width: 38.4px; text-align: center;">0</td>
<td style="width: 38.4px; text-align: center;">0</td>
<td style="width: 38.4px; text-align: center;">0</td>
<td style="width: 39.2px; text-align: center;">1</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">And so on for each letter. This means you get a lot of columns, with the majority of them set to '0'. You may be tempted to think 'why not cut down on columns by representing them as their character position 1 for A, 2 for B, 26 for Z etc?''&nbsp; The reason is that we would be implying some deeper mathematical relationship than actually exists to the algorithm.&nbsp; B isn't double A, and E isn't half of J.</span></p>
<p><span style="font-size: 10pt;">However, this technique generates a lot of data for each word.&nbsp; Is there a way to do better?</span></p>
<p><span style="font-size: 10pt;">Instead of representing each letter individually, we could try to represent the letters in the word.&nbsp; Take the word BABE.</span></p>
<table style="height: 51px; width: 215.667px;">
<tbody>
<tr>
<td style="width: 50px; text-align: center;"><em>A</em></td>
<td style="width: 50px; text-align: center;"><em>B</em></td>
<td style="width: 50px; text-align: center;"><em>C</em></td>
<td style="width: 50px; text-align: center;"><em>D</em></td>
<td style="width: 50px; text-align: center;"><em>E</em></td>
</tr>
<tr>
<td style="width: 50px; text-align: center;">1</td>
<td style="width: 50px; text-align: center;">1</td>
<td style="width: 50px; text-align: center;">0</td>
<td style="width: 50px; text-align: center;">0</td>
<td style="width: 50px; text-align: center;">1</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">We could use a '1' to indicate that the word contains the letter.&nbsp; In fact, we can do one better, and count the number of occurences of each letter.&nbsp; This is the second technique I used, 'count vectorisation'.</span></p>
<table style="height: 38px; width: 210.667px;">
<tbody>
<tr>
<td style="width: 50px; text-align: center;"><em>A</em></td>
<td style="width: 50px; text-align: center;"><em>B</em></td>
<td style="width: 50px; text-align: center;"><em>C</em></td>
<td style="width: 50px; text-align: center;"><em>D</em></td>
<td style="width: 50px; text-align: center;"><em>E</em></td>
</tr>
<tr>
<td style="width: 50px; text-align: center;">1</td>
<td style="width: 50px; text-align: center;">2</td>
<td style="width: 50px; text-align: center;">0</td>
<td style="width: 50px; text-align: center;">0</td>
<td style="width: 50px; text-align: center;">1</td>
</tr>
</tbody>
</table>
    
    
     <p></p>
<h3>Feature Extraction - Other features</h3>
<p></p>
<p><span style="font-size: 10pt;">I also wanted to extract some of the structure of the words.&nbsp; Using count vectorisation, the words 'able' and 'bale' look identical.&nbsp; I found that using regular expressions, it is possible to get a rough idea of the number of syllables in a word.&nbsp; It's not exact: it may count 'bale' as having two syllables, but it was generally close.&nbsp; The syllable count by itself was not good enough because it did not encode the 'density' of syllables.&nbsp; So the word length divided by syllables works.</span></p>
<p><span style="font-size: 10pt;">Finally, I entered one more feature into the model: is the last letter a vowel, with a binary 1 or 0 as the data.</span></p>

    <h3>Neural Network - basics</h3>
     <p></p>
<p><span style="font-size: 10pt;">I'm not able to describe entirely what a neural network is here.&nbsp;</span></p>
<p><span style="font-size: 10pt;">The basic idea is that data is entered into the network, iteration by iteration.&nbsp; The data 'flows' through the network, where it is combined together and undergoes relatively simple mathematical procedures.&nbsp; The data then pops out the other side, and this is the prediction.&nbsp; The data is input one 'column' by one, so each datapoint (in this case the 26 letters + other features) is entered one by one.</span></p>
<p><span style="font-size: 10pt;">The mathematical processes that happen are based on 'weights' - numbers that are multiplied with the input data.&nbsp; Initially, the weights are as good as random, and the output from the network is random, and not useful.&nbsp; Data is also passed through nonlinear 'activation' functions, so that the network is able to understand nonlinear relationships between the data points.</span></p>
<p><span style="font-size: 10pt;">We can compare the output from the network with the 'label' - the actual classification. We take the difference between the output and the actual value, is go back through the network and change the weights, just a little bit, so that next time the output would be slightly closer to the correct answer.&nbsp; Doing this over a lot of iterations over enough data means that the network gets better at generalising - understanding the relationships in the data that cause it to be labelled one way or the other.</span></p>

     <p></p><h3>Neural Network - setup</h3>
     <p></p>
<p><span style="font-size: 10pt;">The neural network code comes from synaptic.js.&nbsp; It is a simple network, with a depth of 26 charachters + the other 2 features.&nbsp; There is one hidden layer of the same depth, with a ReLU activation function (or 'squash', as the synaptic API refers to them as).&nbsp; ReLU means 'Rectified Linear Unit' - but just means that values under 0 are set to 0, and values above zero are unchanged.&nbsp; The final layer has one output with the logistic function - necessary for the binary classification.</span><br /> <br /> <strong>Scoring</strong></p>
<p>The network is scored by accuracy at the moment.</p>
 <!-- </div> -->

  
  <div id="output">
    Results will go here
  </div>

</div>  
                 </div>
                
            <!--    <a href="#menu-toggle" class="btn btn-secondary" id="menu-toggle">Show Menu</a>  -->
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

        <script>
        
    function menu_toggle(e){
        $("#wrapper").toggleClass("toggled");
        if ($("#menu-toggle").text() === ">") {
           $("#menu-toggle").html("<h2><</h2>");
        } else {
           $("#menu-toggle").html("<h2>></h2>");
        }
    }
        
       
    $("#menu-toggle").click(function() {
       menu_toggle();
    });
        
      $(function() {
        $("#sidebar-wrapper").load("/global/sidebar.html");
        $("#a").load("/data/jp.txt");
        $("#b").load("/data/en.txt");

      });

      $(function() {
            bin_name_class();
      });
    </script>

</body>

</html>
